"use strict";(globalThis.webpackChunkwalrus_docusaurus=globalThis.webpackChunkwalrus_docusaurus||[]).push([[6636],{754:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"usage/json-api","title":"JSON Mode","description":"Guide to using Walrus client in JSON mode for programmatic access with JSON formatted input and output.","source":"@site/../content/usage/json-api.mdx","sourceDirName":"usage","slug":"/usage/json-api","permalink":"/docs/usage/json-api","draft":false,"unlisted":false,"editUrl":"https://github.com/MystenLabs/walrus/tree/main/docs/../content/usage/json-api.mdx","tags":[],"version":"current","frontMatter":{"title":"JSON Mode","description":"Guide to using Walrus client in JSON mode for programmatic access with JSON formatted input and output.","keywords":["walrus","json mode","programmatic access","json api","cli","automation","scripting","development"]},"sidebar":"docsSidebar","previous":{"title":"Using the Walrus Client","permalink":"/docs/usage/client-cli"},"next":{"title":"Client Daemon Mode & HTTP API","permalink":"/docs/usage/web-api"}}');var s=o(2714),a=o(8885);const i={title:"JSON Mode",description:"Guide to using Walrus client in JSON mode for programmatic access with JSON formatted input and output.",keywords:["walrus","json mode","programmatic access","json api","cli","automation","scripting","development"]},r=void 0,c={},l=[];function d(e){const n={code:"code",p:"p",pre:"pre",...(0,a.R)(),...e.components},{Term:o}=n;return o||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Term",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["All ",(0,s.jsx)(o,{lookup:"Client",children:"Walrus client"})," commands are also available in JSON mode. In this mode, all the command-line flags\nof the original CLI command can be specified in JSON format. The JSON mode therefore simplifies\nprogrammatic access to the CLI."]}),"\n",(0,s.jsxs)(n.p,{children:["For example, to store a ",(0,s.jsx)(o,{lookup:"Blob",children:"blob"}),", run:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:'$ walrus json \\\n    \'{\n        "config": "path/to/client_config.yaml",\n        "command": {\n            "store": {\n                "files": ["README.md", "LICENSE"],\n                "epochs": 100\n            }\n        }\n    }\'\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Or, to read a ","blob"," knowing the ",(0,s.jsx)(o,{lookup:"Blob ID",children:"blob ID"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:'$ walrus json \\\n    \'{\n        "config": "path/to/client_config.yaml",\n        "command": {\n            "read": {\n                "blobId": "4BKcDC0Ih5RJ8R0tFMz3MZVNZV8b2goT6_JiEEwNHQo"\n            }\n        }\n    }\'\n'})}),"\n",(0,s.jsx)(n.p,{children:'All options, default values, and commands are equal to those of the "standard" CLI mode, except that\nthey are written in "camelCase" instead of "kebab-case".'}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"json"})," command also accepts input from ",(0,s.jsx)(n.code,{children:"stdin"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["The output of a ",(0,s.jsx)(n.code,{children:"json"})," command will itself be JSON-formatted, again to simplify parsing the results\nin a programmatic way. For example, the JSON output can be piped to the ",(0,s.jsx)(n.code,{children:"jq"})," command for parsing and\nmanually extracting relevant fields."]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8885:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>r});var t=o(9378);const s={},a=t.createContext(s);function i(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);