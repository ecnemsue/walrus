"use strict";(globalThis.webpackChunkwalrus_docusaurus=globalThis.webpackChunkwalrus_docusaurus||[]).push([[4884],{2964:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"usage/setup","title":"Advanced Setup","description":"Advanced setup options for Walrus including building from source, binary installation, and configuration.","source":"@site/../content/usage/setup.mdx","sourceDirName":"usage","slug":"/usage/setup","permalink":"/docs/usage/setup","draft":false,"unlisted":false,"editUrl":"https://github.com/MystenLabs/walrus/tree/main/docs/../content/usage/setup.mdx","tags":[],"version":"current","frontMatter":{"title":"Advanced Setup","description":"Advanced setup options for Walrus including building from source, binary installation, and configuration.","keywords":["walrus","setup","installation","configuration","build from source","cargo","binaries","client configuration","advanced setup"]},"sidebar":"docsSidebar","previous":{"title":"Getting Started with Walrus","permalink":"/docs/usage/started"},"next":{"title":"Available Networks","permalink":"/docs/usage/networks"}}');var i=s(2714),a=s(8885);const r={title:"Advanced Setup",description:"Advanced setup options for Walrus including building from source, binary installation, and configuration.",keywords:["walrus","setup","installation","configuration","build from source","cargo","binaries","client configuration","advanced setup"]},o=void 0,l={},c=[{value:"Walrus binaries",id:"walrus-binaries",level:2},{value:"Install via Script",id:"nix-install",level:2},{value:"Install on Windows",id:"windows-install",level:2},{value:"GitHub Releases",id:"github-releases",level:2},{value:"Install via Cargo",id:"install-via-cargo",level:2},{value:"Build from Source",id:"build-from-source",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Custom Path (optional)",id:"config-custom-path",level:3},{value:"Advanced Configuration (optional)",id:"advanced-configuration-optional",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components},{Details:s,ImportContent:t,Term:r}=n;return s||h("Details",!0),t||h("ImportContent",!0),r||h("Term",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["This page covers advanced setup options for Walrus, including building from source,\ninstalling from binaries, or using Cargo. For standard setup instructions, see the\nWalrus ",(0,i.jsx)(n.a,{href:"/docs/usage/started",children:"Getting Started"})," guide."]}),"\n",(0,i.jsxs)(n.p,{children:["Walrus is open source under an Apache 2 license. You can download and install it through\n",(0,i.jsx)(n.a,{href:"https://github.com/MystenLabs/suiup",children:(0,i.jsx)(n.code,{children:"suiup"})})," on GitHub, or you can build and\ninstall it from the Rust source code through Cargo."]}),"\n",(0,i.jsx)(n.h2,{id:"walrus-binaries",children:"Walrus binaries"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"walrus"}),(0,i.jsx)(r,{lookup:"Client",children:"client"})," binary is currently provided for macOS (Intel and Apple CPUs),\nUbuntu, and Windows. The Ubuntu version most likely works on other Linux distributions\nas well."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"OS"}),(0,i.jsx)(n.th,{children:"CPU"}),(0,i.jsx)(n.th,{children:"Architecture"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Ubuntu"}),(0,i.jsx)(n.td,{children:"Intel 64bit"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://storage.googleapis.com/mysten-walrus-binaries/walrus-mainnet-latest-ubuntu-x86_64",children:(0,i.jsx)(n.code,{children:"ubuntu-x86_64"})})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Ubuntu"}),(0,i.jsx)(n.td,{children:"Intel 64bit (generic)"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://storage.googleapis.com/mysten-walrus-binaries/walrus-mainnet-latest-ubuntu-x86_64-generic",children:(0,i.jsx)(n.code,{children:"ubuntu-x86_64-generic"})})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Ubuntu"}),(0,i.jsx)(n.td,{children:"ARM 64bit"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://storage.googleapis.com/mysten-walrus-binaries/walrus-mainnet-latest-ubuntu-aarch64",children:(0,i.jsx)(n.code,{children:"ubuntu-aarch64"})})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"MacOS"}),(0,i.jsx)(n.td,{children:"Apple Silicon"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://storage.googleapis.com/mysten-walrus-binaries/walrus-mainnet-latest-macos-arm64",children:(0,i.jsx)(n.code,{children:"macos-arm64"})})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"MacOS"}),(0,i.jsx)(n.td,{children:"Intel 64bit"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://storage.googleapis.com/mysten-walrus-binaries/walrus-mainnet-latest-macos-x86_64",children:(0,i.jsx)(n.code,{children:"macos-x86_64"})})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Windows"}),(0,i.jsx)(n.td,{children:"Intel 64bit"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://storage.googleapis.com/mysten-walrus-binaries/walrus-mainnet-latest-windows-x86_64.exe",children:(0,i.jsx)(n.code,{children:"windows-x86_64.exe"})})})]})]})]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["Our latest Walrus binaries are also available on Walrus itself, namely on\n",(0,i.jsx)(n.a,{href:"https://bin.wal.app",children:"https://bin.wal.app"}),", for example,\n",(0,i.jsx)(n.a,{href:"https://bin.wal.app/walrus-mainnet-latest-ubuntu-x86_64",children:"https://bin.wal.app/walrus-mainnet-latest-ubuntu-x86_64"}),".\nBecause of DoS protection, it might not be possible to download the binaries with\n",(0,i.jsx)(n.code,{children:"curl"})," or ",(0,i.jsx)(n.code,{children:"wget"}),"."]})}),"\n",(0,i.jsx)(n.h2,{id:"nix-install",children:"Install via Script"}),"\n",(0,i.jsxs)(n.p,{children:["To download and install ",(0,i.jsx)(n.code,{children:"walrus"})," to your ",(0,i.jsx)(n.code,{children:'"$HOME"/.local/bin directory'}),", run one of the\nfollowing commands in your terminal then follow on-screen instructions. If you are on Windows,\nsee the Windows-specific instructions or the ",(0,i.jsxs)(n.a,{href:"https://github.com/MystenLabs/suiup",children:[(0,i.jsx)(n.code,{children:"suiup"})," installation"]})," on GitHub."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run a first-time install using the latest Mainnet version.\n$ curl -sSf https://install.wal.app | sh\n\n# Install the latest Testnet version instead.\n$ curl -sSf https://install.wal.app | sh -s -- -n testnet\n\n# Update an existing installation (overwrites prior version of walrus).\n$ curl -sSf https://install.wal.app | sh -s -- -f\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Make sure that the ",(0,i.jsx)(n.code,{children:'"$HOME"/.local/bin'})," directory is in your ",(0,i.jsx)(n.code,{children:"$PATH"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["After this is done, you can run Walrus by using the ",(0,i.jsx)(n.code,{children:"walrus"})," command in your terminal."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-console",children:"$ walrus --help\n"})}),"\n",(0,i.jsx)(n.h2,{id:"windows-install",children:"Install on Windows"}),"\n",(0,i.jsxs)(n.p,{children:["To download ",(0,i.jsx)(n.code,{children:"walrus"})," to your Microsoft Windows computer, run the following in a\nPowerShell."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-PowerShell",children:'(New-Object System.Net.WebClient).DownloadFile(\n  "https://storage.googleapis.com/mysten-walrus-binaries/walrus-testnet-latest-windows-x86_64.exe",\n  "walrus.exe"\n)\n'})}),"\n",(0,i.jsxs)(n.p,{children:["From there, place ",(0,i.jsx)(n.code,{children:"walrus.exe"})," somewhere in your ",(0,i.jsx)(n.code,{children:"PATH"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-admonish",metastring:'title="Windows"',children:"Most of the remaining instructions assume a UNIX-based system for the directory\nstructure, commands, and so on. If you use Windows, you might need to adapt most of\nthose.\n"})}),"\n",(0,i.jsx)(n.h2,{id:"github-releases",children:"GitHub Releases"}),"\n",(0,i.jsxs)(n.p,{children:["You can find all the releases including release notes on\n",(0,i.jsx)(n.a,{href:"https://github.com/MystenLabs/walrus/releases",children:"GitHub"}),". Download the archive for your\nsystem and extract the ",(0,i.jsx)(n.code,{children:"walrus"})," binary."]}),"\n",(0,i.jsx)(n.h2,{id:"install-via-cargo",children:"Install via Cargo"}),"\n",(0,i.jsx)(n.p,{children:"You can also install Walrus through Cargo. For example, to install the latest Mainnet\nversion:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"$ cargo install --git https://github.com/MystenLabs/walrus --branch mainnet walrus-service --locked\n"})}),"\n",(0,i.jsxs)(n.p,{children:["In place of ",(0,i.jsx)(n.code,{children:"--branch mainnet"}),", you can also specify specific tags (for example,\n",(0,i.jsx)(n.code,{children:"--tag mainnet-v1.18.2"}),") or commits (for example,\n",(0,i.jsx)(n.code,{children:"--rev b2009ac73388705f379ddad48515e1c1503fc8fc"}),")."]}),"\n",(0,i.jsx)(n.h2,{id:"build-from-source",children:"Build from Source"}),"\n",(0,i.jsxs)(n.p,{children:["Walrus is open source software published under the Apache 2 license. The code is\ndeveloped in a ",(0,i.jsx)(n.code,{children:"git"})," repository at ",(0,i.jsx)(n.a,{href:"https://github.com/MystenLabs/walrus",children:"https://github.com/MystenLabs/walrus"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["The latest version of Mainnet and Testnet are available under the branches ",(0,i.jsx)(n.code,{children:"mainnet"})," and\n",(0,i.jsx)(n.code,{children:"testnet"})," respectively, and the latest version under the ",(0,i.jsx)(n.code,{children:"main"})," branch. Reports of issues\nand bug fixes are welcome. Follow the instructions in the ",(0,i.jsx)(n.code,{children:"README.md"})," file to build and\nuse Walrus from source."]}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsx)(n.p,{children:"The easiest way to obtain the latest configuration is by downloading it directly from\nWalrus:"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"curl --create-dirs https://docs.wal.app/setup/client_config.yaml -o ~/.config/walrus/client_config.yaml\n"})})]}),"\n",(0,i.jsxs)(n.p,{children:["The ","Walrus client"," needs to know about the Sui objects that store the Walrus system and\nstaking information, see the\n",(0,i.jsx)(n.a,{href:"/docs/dev-guide/sui-struct#system-and-staking-information",children:"developer guide"}),". Configure\nthese in a file at ",(0,i.jsx)(n.code,{children:"~/.config/walrus/client_config.yaml"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["You can access Testnet and Mainnet through the following configuration. This example\nWalrus CLI configuration refers to the standard location for Sui configuration\n(",(0,i.jsx)(n.code,{children:'"~/.sui/sui_config/client.yaml"'}),")."]}),"\n",(0,i.jsx)(t,{source:"/setup/client_config.yaml",mode:"code"}),"\n",(0,i.jsx)(n.h3,{id:"config-custom-path",children:"Custom Path (optional)"}),"\n",(0,i.jsxs)(n.p,{children:["By default, the ","Walrus client"," looks for the ",(0,i.jsx)(n.code,{children:"client_config.yaml"})," (or\n",(0,i.jsx)(n.code,{children:"client_config.yml"}),") configuration file in the current directory,\n",(0,i.jsx)(n.code,{children:"$XDG_CONFIG_HOME/walrus/"}),", ",(0,i.jsx)(n.code,{children:"~/.config/walrus/"}),", or ",(0,i.jsx)(n.code,{children:"~/.walrus/"}),". However, you can place\nthe file anywhere and name it anything you like. In this case, use the ",(0,i.jsx)(n.code,{children:"--config"})," option\nwhen running the ",(0,i.jsx)(n.code,{children:"walrus"})," binary."]}),"\n",(0,i.jsx)(n.h2,{id:"advanced-configuration-optional",children:"Advanced Configuration (optional)"}),"\n",(0,i.jsx)(n.p,{children:"The configuration file currently supports the following parameters for each of the\ncontexts:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# These are the only mandatory fields. These objects are specific for a particular Walrus\n# deployment but then do not change over time.\nsystem_object: 0x2134d52768ea07e8c43570ef975eb3e4c27a39fa6396bef985b5abc58d03ddd2\nstaking_object: 0x10b9d30c28448939ce6c4d6c6e0ffce4a7f8a4ada8248bdad09ef8b70e4a3904\n\n# You can specify a list of Sui RPC URLs for reads. If none is provided, the RPC URL in the Sui\n# wallet is used.\nrpc_urls:\n  - https://fullnode.mainnet.sui.io:443\n\n# You can define a custom path to your Sui wallet configuration here. If this is unset or `null`\n# (default), the wallet is configured from `./sui_config.yaml` (relative to your current working\n# directory), or the system-wide wallet at `~/.sui/sui_config/client.yaml` in this order. Both\n# `active_env` and `active_address` can be omitted, in which case the values from the Sui wallet\n# are used.\nwallet_config:\n  # The path to the wallet configuration file.\n  path: ~/.sui/sui_config/client.yaml\n  # The optional `active_env` to use to override whatever `active_env` is listed in the\n  # configuration file.\n  active_env: mainnet\n  # The optional `active_address` to use to override whatever `active_address` is listed in the\n  # configuration file.\n  active_address: 0x...\n\n# [...]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["There are some additional parameters that you can use to tune the networking behavior of\nthe ","client",". If you experience excessively slow uploads, it might be worth experimenting with these values.\nThere is no risk in playing around with these values. In the worst case, you might not be\nable to store or read ",(0,i.jsx)(r,{lookup:"Blob",children:"blob"})," because of timeouts or other networking errors."]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"client_config_example.yaml"})})}),(0,i.jsx)(t,{source:"/crates/walrus-sdk/client_config_example.yaml",mode:"code"})]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}function h(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8885:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var t=s(9378);const i={},a=t.createContext(i);function r(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);