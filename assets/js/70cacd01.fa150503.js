"use strict";(globalThis.webpackChunkwalrus_docusaurus=globalThis.webpackChunkwalrus_docusaurus||[]).push([[6962],{1437:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"walrus-sites/tutorial-install","title":"Installing the Site Builder","description":"Step-by-step guide to installing and setting up the Walrus Sites site-builder tool for development.","source":"@site/../content/walrus-sites/tutorial-install.mdx","sourceDirName":"walrus-sites","slug":"/walrus-sites/tutorial-install","permalink":"/docs/walrus-sites/tutorial-install","draft":false,"unlisted":false,"editUrl":"https://github.com/MystenLabs/walrus/tree/main/docs/../content/walrus-sites/tutorial-install.mdx","tags":[],"version":"current","frontMatter":{"title":"Installing the Site Builder","description":"Step-by-step guide to installing and setting up the Walrus Sites site-builder tool for development.","keywords":["walrus sites","installation","site builder","setup","prerequisites","binaries","configuration"]},"sidebar":"sitesSidebar","previous":{"title":"Your First Walrus Site","permalink":"/docs/walrus-sites/tutorial"},"next":{"title":"Publishing a Walrus Site","permalink":"/docs/walrus-sites/tutorial-publish"}}');var i=s(2714),l=s(8885);const r={title:"Installing the Site Builder",description:"Step-by-step guide to installing and setting up the Walrus Sites site-builder tool for development.",keywords:["walrus sites","installation","site builder","setup","prerequisites","binaries","configuration"]},a=void 0,o={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"Mainnet Binaries",id:"mainnet-binaries",level:3},{value:"Testnet Binaries",id:"testnet-binaries",level:3},{value:"Mainnet Curl Request",id:"mainnet-curl-request",level:3},{value:"Testnet Curl Request",id:"testnet-curl-request",level:3},{value:"Configuration",id:"configuration",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components},{Term:s}=t;return s||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Term",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["This section describes the steps necessary to setup the Walrus Sites' ",(0,i.jsx)(t.code,{children:"site-builder"})," tool and\nprepare your environment for development."]}),"\n",(0,i.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(t.p,{children:"Before you start, make sure you"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["have a recent version of ",(0,i.jsx)(t.a,{href:"https://www.rust-lang.org/tools/install",children:"Rust"})," installed;"]}),"\n",(0,i.jsxs)(t.li,{children:["followed all ",(0,i.jsx)(t.a,{href:"/docs/usage/setup",children:"Walrus setup instructions"}),"."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Then, follow these additional setup steps."}),"\n",(0,i.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(t.p,{children:["Similar to the ",(0,i.jsx)(t.code,{children:"walrus"}),(0,i.jsx)(s,{lookup:"Client",children:"client"})," CLI tool, we currently provide the ",(0,i.jsx)(t.code,{children:"site-builder"}),"client"," binary for\nmacOS (Intel and Apple CPUs), Ubuntu, and Windows:"]}),"\n",(0,i.jsx)(t.h3,{id:"mainnet-binaries",children:"Mainnet Binaries"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"OS"}),(0,i.jsx)(t.th,{children:"CPU"}),(0,i.jsx)(t.th,{children:"Architecture"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Ubuntu"}),(0,i.jsx)(t.td,{children:"Intel 64bit"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.a,{href:"https://storage.googleapis.com/mysten-walrus-binaries/site-builder-mainnet-latest-ubuntu-x86_64",children:(0,i.jsx)(t.code,{children:"site-builder-mainnet-latest-ubuntu-x86_64"})})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"MacOS"}),(0,i.jsx)(t.td,{children:"Apple Silicon"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.a,{href:"https://storage.googleapis.com/mysten-walrus-binaries/site-builder-mainnet-latest-macos-arm64",children:(0,i.jsx)(t.code,{children:"site-builder-mainnet-latest-macos-arm64"})})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"MacOS"}),(0,i.jsx)(t.td,{children:"Intel 64bit"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.a,{href:"https://storage.googleapis.com/mysten-walrus-binaries/site-builder-mainnet-latest-macos-x86_64",children:(0,i.jsx)(t.code,{children:"site-builder-mainnet-latest-macos-x86_64"})})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Windows"}),(0,i.jsx)(t.td,{children:"Intel 64bit"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.a,{href:"https://storage.googleapis.com/mysten-walrus-binaries/site-builder-mainnet-latest-windows-x86_64.exe",children:(0,i.jsx)(t.code,{children:"site-builder-mainnet-latest-windows-x86_64.exe"})})})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"testnet-binaries",children:"Testnet Binaries"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"OS"}),(0,i.jsx)(t.th,{children:"CPU"}),(0,i.jsx)(t.th,{children:"Architecture"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Ubuntu"}),(0,i.jsx)(t.td,{children:"Intel 64bit"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.a,{href:"https://storage.googleapis.com/mysten-walrus-binaries/site-builder-testnet-latest-ubuntu-x86_64",children:(0,i.jsx)(t.code,{children:"site-builder-testnet-latest-ubuntu-x86_64"})})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"MacOS"}),(0,i.jsx)(t.td,{children:"Apple Silicon"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.a,{href:"https://storage.googleapis.com/mysten-walrus-binaries/site-builder-testnet-latest-macos-arm64",children:(0,i.jsx)(t.code,{children:"site-builder-testnet-latest-macos-arm64"})})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"MacOS"}),(0,i.jsx)(t.td,{children:"Intel 64bit"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.a,{href:"https://storage.googleapis.com/mysten-walrus-binaries/site-builder-testnet-latest-macos-x86_64",children:(0,i.jsx)(t.code,{children:"site-builder-testnet-latest-macos-x86_64"})})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Windows"}),(0,i.jsx)(t.td,{children:"Intel 64bit"}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.a,{href:"https://storage.googleapis.com/mysten-walrus-binaries/site-builder-testnet-latest-windows-x86_64.exe",children:(0,i.jsx)(t.code,{children:"site-builder-testnet-latest-windows-x86_64.exe"})})})]})]})]}),"\n",(0,i.jsx)(t.admonition,{title:"Windows",type:"note",children:(0,i.jsx)(t.p,{children:"We now offer a pre-built binary also for Windows. However, most of the remaining instructions assume a UNIX-based system for the directory structure, commands, etc. If you use Windows, you may need to adapt most of those."})}),"\n",(0,i.jsxs)(t.p,{children:["You can download the latest build from our Google Cloud Storage (GCS) bucket (correctly setting the ",(0,i.jsx)(t.code,{children:"$SYSTEM"})," variable):"]}),"\n",(0,i.jsx)(t.h3,{id:"mainnet-curl-request",children:"Mainnet Curl Request"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sh",children:"$ SYSTEM= # set this to your system: ubuntu-x86_64, ubuntu-x86_64-generic, macos-x86_64, macos-arm64, windows-x86_64.exe\n$ curl https://storage.googleapis.com/mysten-walrus-binaries/site-builder-mainnet-latest-$SYSTEM -o site-builder\n$ chmod +x site-builder\n"})}),"\n",(0,i.jsx)(t.h3,{id:"testnet-curl-request",children:"Testnet Curl Request"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sh",children:"$ SYSTEM= # set this to your system: ubuntu-x86_64, ubuntu-x86_64-generic, macos-x86_64, macos-arm64, windows-x86_64.exe\n$ curl https://storage.googleapis.com/mysten-walrus-binaries/site-builder-testnet-latest-$SYSTEM -o site-builder\n$ chmod +x site-builder\n"})}),"\n",(0,i.jsxs)(t.p,{children:["As an alternative, you can also use the ",(0,i.jsx)(t.code,{children:"suiup"})," tool which enables you to install different\nversions of the site-builder seamlessly."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sh",children:"$ curl -sSfL \\\n  https://raw.githubusercontent.com/Mystenlabs/suiup/main/install.sh \\\n  | sh\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Then, install the ",(0,i.jsx)(t.code,{children:"site-builder"}),":"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sh",children:"$ suiup install site-builder@mainnet\n"})}),"\n",(0,i.jsxs)(t.p,{children:["To be able to run it just as ",(0,i.jsx)(t.code,{children:"site-builder"}),", move the binary to any directory included in your\n",(0,i.jsx)(t.code,{children:"$PATH"})," environment variable. Standard locations are ",(0,i.jsx)(t.code,{children:"/usr/local/bin/"}),", ",(0,i.jsx)(t.code,{children:"$HOME/bin/"}),", or\n",(0,i.jsx)(t.code,{children:"$HOME/.local/bin/"}),"."]}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsxs)(t.p,{children:["The site builder will look for the default configuration file ",(0,i.jsx)(t.code,{children:"sites-config.yaml"})," in the current\ndirectory, the ",(0,i.jsx)(t.code,{children:"$XDG_HOME/walrus/sites-config.yaml"})," and ",(0,i.jsx)(t.code,{children:"$HOME/walrus/sites-config.yaml"})," directory.\nIn case you want to use explicitly a different ",(0,i.jsx)(t.code,{children:"sites-config.yaml"}),", use the ",(0,i.jsx)(t.code,{children:"--config"})," flag to\nspecify the path to the configuration file."]})}),"\n",(0,i.jsxs)(t.p,{children:["After this is done, you should be able to simply type ",(0,i.jsx)(t.code,{children:"site-builder"})," in your terminal."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sh",children:"$ site-builder\n"})}),"\n",(0,i.jsx)(t.p,{children:"If successful, the console responds:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sh",children:"Usage: site-builder [OPTIONS] <COMMAND>\n\nCommands:\n  publish  Publish a new site on Sui\n  update   Update an existing site\n  convert  Convert an object ID in hex format to the equivalent Base36\n                format\n  sitemap  Show the pages composing the Walrus site at the given object ID\n  help     Print this message or the help of the given subcommand(s)\n\n  \u22ee\n"})}),"\n",(0,i.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"site-builder"})," tool needs a configuration file to work. This file is called ",(0,i.jsx)(t.code,{children:"sites-config.yaml"}),"\nand looks like this:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-yaml",children:'contexts:\n  testnet:\n    # module: site\n    # portal: wal.app\n    package: 0xf99aee9f21493e1590e7e5a9aea6f343a1f381031a04a732724871fc294be799\n    staking_object: 0xbe46180321c30aab2f8b3501e24048377287fa708018a5b7c2792b35fe339ee3\n    general:\n        wallet_env: testnet\n        walrus_context: testnet # Assumes a Walrus CLI setup with a multi-config containing the "testnet" context.\n        walrus_package: 0xd84704c17fc870b8764832c535aa6b11f21a95cd6f5bb38a9b07d2cf42220c66\n        # wallet_address: 0x1234...\n        # rpc_url: https://fullnode.testnet.sui.io:443\n        # wallet: /path/to/.sui/sui_config/client.yaml\n        # walrus_binary: /path/to/walrus\n        # walrus_config: /path/to/testnet/client_config.yaml\n        # gas_budget: 500000000\n  mainnet:\n    # module: site\n    # portal: wal.app\n    package: 0x26eb7ee8688da02c5f671679524e379f0b837a12f1d1d799f255b7eea260ad27\n    staking_object: 0x10b9d30c28448939ce6c4d6c6e0ffce4a7f8a4ada8248bdad09ef8b70e4a3904\n    general:\n        wallet_env: mainnet\n        walrus_context: mainnet # Assumes a Walrus CLI setup with a multi-config containing the "mainnet" context.\n        walrus_package: 0xfdc88f7d7cf30afab2f82e8380d11ee8f70efb90e863d1de8616fae1bb09ea77\n        # wallet_address: 0x1234...\n        # rpc_url: https://fullnode.mainnet.sui.io:443\n        # wallet: /path/to/.sui/sui_config/client.yaml\n        # walrus_binary: /path/to/walrus\n        # walrus_config: /path/to/mainnet/client_config.yaml\n        # gas_budget: 500000000\n\ndefault_context: mainnet\n'})}),"\n",(0,i.jsxs)(t.p,{children:["As you can see, the configuration file is quite simple. You can define here different contexts and\ntheir configurations, with just the package id field being the mandatory one, representing the Sui\nobject ID of the Walrus Sites smart contract. You can find the latest version of the package in the ",(0,i.jsx)(t.a,{href:"https://github.com/MystenLabs/walrus-sites/tree/mainnet",children:"Walrus Sites repository"})," on the ",(0,i.jsx)(t.code,{children:"mainnet"})," branch."]}),"\n",(0,i.jsx)(t.admonition,{title:"Walrus Sites stable branch",type:"danger",children:(0,i.jsxs)(t.p,{children:["The stable branch of Walrus Sites is ",(0,i.jsx)(t.code,{children:"mainnet"}),". Make sure that you always pull the latest changes from there."]})}),"\n",(0,i.jsxs)(t.p,{children:["You can define the location of the ",(0,i.jsx)(t.code,{children:"sites-config.yaml"})," file using the ",(0,i.jsx)(t.code,{children:"--config"})," flag when running\nthe ",(0,i.jsx)(t.code,{children:"site-builder"})," commands like so:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sh",children:"$ site-builder --config /path/to/sites-config.yaml publish <build-directory-of-a-site>\n"})}),"\n",(0,i.jsxs)(t.p,{children:["However, if are not a fan of repeating the same flags over and over, it's always easier to have the\nconfiguration file in one of the ",(0,i.jsx)(t.a,{href:"#configuration",children:"default locations"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Download the ",(0,i.jsx)(t.code,{children:"sites-config.yaml"})," file from the repository, and place it in one of the aforementioned\ndefault locations. To illustrate, we will use the ",(0,i.jsx)(t.code,{children:"~/.config/walrus"})," directory, like so:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-sh",children:"$ curl https://raw.githubusercontent.com/MystenLabs/walrus-sites/refs/heads/mainnet/sites-config.yaml -o ~/.config/walrus/sites-config.yaml\n"})}),"\n",(0,i.jsx)(t.p,{children:"You are now ready to start working on your Walrus Sites! \ud83c\udf89"})]})}function u(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8885:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>a});var n=s(9378);const i={},l=n.createContext(i);function r(e){const t=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(l.Provider,{value:t},e.children)}}}]);