"use strict";(globalThis.webpackChunkwalrus_docusaurus=globalThis.webpackChunkwalrus_docusaurus||[]).push([[9322],{8885:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>a});var i=s(9378);const n={},r=i.createContext(n);function o(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),i.createElement(r.Provider,{value:t},e.children)}},9312:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"walrus-sites/redirects","title":"Redirecting Objects to Walrus Sites","description":"Guide to creating personalized Walrus Sites for NFTs and objects using redirect links and Display properties.","source":"@site/../content/walrus-sites/redirects.mdx","sourceDirName":"walrus-sites","slug":"/walrus-sites/redirects","permalink":"/docs/walrus-sites/redirects","draft":false,"unlisted":false,"editUrl":"https://github.com/MystenLabs/walrus/tree/main/docs/../content/walrus-sites/redirects.mdx","tags":[],"version":"current","frontMatter":{"title":"Redirecting Objects to Walrus Sites","description":"Guide to creating personalized Walrus Sites for NFTs and objects using redirect links and Display properties.","keywords":["walrus sites","redirects","nft","sui objects","display properties","object-specific sites","move contracts"]},"sidebar":"sitesSidebar","previous":{"title":"Linking from and to Walrus Sites","permalink":"/docs/walrus-sites/linking"},"next":{"title":"CI/CD","permalink":"/docs/walrus-sites/ci-cd"}}');var n=s(2714),r=s(8885);const o={title:"Redirecting Objects to Walrus Sites",description:"Guide to creating personalized Walrus Sites for NFTs and objects using redirect links and Display properties.",keywords:["walrus sites","redirects","nft","sui objects","display properties","object-specific sites","move contracts"]},a=void 0,c={},l=[{value:"The Goal",id:"the-goal",level:2},{value:"Redirect Links",id:"redirect-links",level:2},{value:"Redirects in Move",id:"redirects-in-move",level:3},{value:"How to Change the Site Based on the NFT?",id:"how-to-change-the-site-based-on-the-nft",level:3}];function d(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["We have seen in the ",(0,n.jsx)(t.a,{href:"/docs/walrus-sites/overview",children:"overview"})," how a Walrus Site object on Sui looks like. We will\ndiscuss now how you can create ensure that a ",(0,n.jsx)(t.em,{children:"set of arbitrary objects"})," can all be tied to a\nspecific, and possibly unique, Walrus Site."]}),"\n",(0,n.jsx)(t.h2,{id:"the-goal",children:"The Goal"}),"\n",(0,n.jsxs)(t.p,{children:["Consider a collection of NFTs, such as the one published by ",(0,n.jsx)(t.a,{href:"https://flatland.wal.app",children:"https://flatland.wal.app"}),". As we\nshow there, each minted NFT has its own Walrus Site, which can be personalized based on the contents\n(e.g., the color) of the NFT itself. How can we achieve this?"]}),"\n",(0,n.jsx)(t.h2,{id:"redirect-links",children:"Redirect Links"}),"\n",(0,n.jsxs)(t.p,{children:['The solution is simple: We add a "redirect" in the NFT\'s\n',(0,n.jsx)(t.a,{href:"https://docs.sui.io/standards/display#sui-utility-objects",children:(0,n.jsx)(t.code,{children:"Display"})})," property. Each time an NFT's\nobject ID is browsed through a portal, the portal will check the ",(0,n.jsx)(t.code,{children:"Display"})," of the NFT and, if it\nencounters the ",(0,n.jsx)(t.code,{children:"walrus site address"})," key, it will go fetch the Walrus Site that is at the\ncorresponding object ID."]}),"\n",(0,n.jsx)(t.h3,{id:"redirects-in-move",children:"Redirects in Move"}),"\n",(0,n.jsxs)(t.p,{children:["Practically speaking, when creating the ",(0,n.jsx)(t.code,{children:"Display"})," of the NFT, you can include the key-value pair\nthat points to the Walrus Site that is to be used."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-move",children:'...\nconst VISUALIZATION_SITE: address = @0x901fb0...;\ndisplay.add(b"walrus site address".to_string(), VISUALIZATION_SITE.to_string());\n...\n'})}),"\n",(0,n.jsx)(t.h3,{id:"how-to-change-the-site-based-on-the-nft",children:"How to Change the Site Based on the NFT?"}),"\n",(0,n.jsx)(t.p,{children:"The code above will only open the specified Walrus Site when browsing the object ID of the NFT. How\ndo we ensure that the properties of the NFT can be used to personalize the site?"}),"\n",(0,n.jsxs)(t.p,{children:["This needs to be done in the ",(0,n.jsx)(t.code,{children:"VISUALIZATION_SITE"}),": Since the subdomain is still pointing to the\nNFT's object ID, the Walrus Site that is loaded can check its ",(0,n.jsx)(t.code,{children:"origin"})," in JavaScript, and use the\nsubdomain to determine the NFT, fetch it from chain, and use its internal fields to modify the\ndisplayed site."]}),"\n",(0,n.jsxs)(t.p,{children:["For an end-to-end example, see the ",(0,n.jsx)(t.code,{children:"flatland"}),"\n",(0,n.jsx)(t.a,{href:"https://github.com/MystenLabs/example-walrus-sites/tree/main/flatland",children:"repo"}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);