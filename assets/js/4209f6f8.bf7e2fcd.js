"use strict";(globalThis.webpackChunkwalrus_docusaurus=globalThis.webpackChunkwalrus_docusaurus||[]).push([[1862],{5070:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/walrus-sites-hash-mismatch-4406d9b9523ff0eddf8a389678ae3035.png"},8885:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>s});var i=n(9378);const a={},r=i.createContext(a);function o(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(r.Provider,{value:t},e.children)}},9584:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"walrus-sites/authentication","title":"Site Data Authentication","description":"Guide to Walrus Sites data authentication mechanisms using SHA-256 hashes for content verification and integrity.","source":"@site/../content/walrus-sites/authentication.mdx","sourceDirName":"walrus-sites","slug":"/walrus-sites/authentication","permalink":"/docs/walrus-sites/authentication","draft":false,"unlisted":false,"editUrl":"https://github.com/MystenLabs/walrus/tree/main/docs/../content/walrus-sites/authentication.mdx","tags":[],"version":"current","frontMatter":{"title":"Site Data Authentication","description":"Guide to Walrus Sites data authentication mechanisms using SHA-256 hashes for content verification and integrity.","keywords":["walrus sites","authentication","data integrity","sha-256","content verification","security","portal deployment"]},"sidebar":"sitesSidebar","previous":{"title":"Bringing Your Own Domain","permalink":"/docs/walrus-sites/bring-your-own-domain"},"next":{"title":"Avoiding Duplicate-Content SEO in Custom Portals","permalink":"/docs/walrus-sites/avoid-duplicate-content-seo"}}');var a=n(2714),r=n(8885);const o={title:"Site Data Authentication",description:"Guide to Walrus Sites data authentication mechanisms using SHA-256 hashes for content verification and integrity.",keywords:["walrus sites","authentication","data integrity","sha-256","content verification","security","portal deployment"]},s=void 0,h={},c=[{value:"Authentication mechanism",id:"authentication-mechanism",level:2},{value:"Authentication Guarantees",id:"authentication-guarantees",level:2},{value:"Remote server-side portal deployment",id:"remote-server-side-portal-deployment",level:3},{value:"Remote service-worker portal deployment",id:"remote-service-worker-portal-deployment",level:3},{value:"Local portal deployment",id:"local-portal-deployment",level:3}];function l(e){const t={code:"code",h2:"h2",h3:"h3",img:"img",p:"p",...(0,r.R)(),...e.components},{Term:i}=t;return i||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Term",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["Walrus Sites offer a simple mechanism to authenticate the data that is served from the Walrus\nstorage on the ",(0,a.jsx)(i,{lookup:"Client",children:"client"})," side. Thus, Walrus Sites can guarantee (with various degrees of confidence,\ndepending on the setup) that the site data is authentic and has not been tampered with by a\nmalicious ",(0,a.jsx)(i,{lookup:"Aggregator",children:"aggregator"}),"."]}),"\n",(0,a.jsx)(t.h2,{id:"authentication-mechanism",children:"Authentication mechanism"}),"\n",(0,a.jsx)(t.p,{children:"The Walrus Sites resource object on Sui stores, alongside the resource information, a SHA-256 hash\nof the resource's content."}),"\n",(0,a.jsxs)(t.p,{children:["When the ","client"," requests a resource, the portal will check that the hash of the data received from\nthe Walrus storage (and the Walrus ","aggregator"," in particular) matches the hash stored on Sui."]}),"\n",(0,a.jsx)(t.p,{children:"If the hashes do not match, the portal will return the following warning page:"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Hash mismatch warning page",src:n(5070).A+"",width:"1906",height:"1012"})}),"\n",(0,a.jsx)(t.h2,{id:"authentication-guarantees",children:"Authentication Guarantees"}),"\n",(0,a.jsx)(t.p,{children:"Depending on the type of deployment, this technique gives increasing levels of confidence that the\nsite data is authentic. We list them here in increasing order of assurance."}),"\n",(0,a.jsx)(t.h3,{id:"remote-server-side-portal-deployment",children:"Remote server-side portal deployment"}),"\n",(0,a.jsxs)(t.p,{children:["In this case, the ",(0,a.jsx)(i,{lookup:"User",children:"user"})," must fully trust the portal provider to authenticate the data. With a trusted\nportal, the authentication mechanism guarantees that the ","aggregator"," or ",(0,a.jsx)(i,{lookup:"Cache",children:"cache"})," (from which the ",(0,a.jsx)(i,{lookup:"Blob",children:"blob"}),"\nhas been fetched) did not tamper with the contents of the ","blob","."]}),"\n",(0,a.jsx)(t.h3,{id:"remote-service-worker-portal-deployment",children:"Remote service-worker portal deployment"}),"\n",(0,a.jsxs)(t.p,{children:["Here, the portal provider is only trusted to provide the correct service worker code to the ","user",".\nThe ","user","'s browser will then perform the fetching and authentication. The guarantees are therefore\nthe same as with the remote server-side portal, with the addition that the ","user"," can inspect the code\nreturned by the portal provider and verify its integrity (e.g., by comparing it the hash of the\nservice worker code to one that is known to be correct)."]}),"\n",(0,a.jsx)(t.h3,{id:"local-portal-deployment",children:"Local portal deployment"}),"\n",(0,a.jsxs)(t.p,{children:["Finally, a ","user"," can clone the Walrus Sites repository and deploy a portal locally, browsing Walrus\nSites through ",(0,a.jsx)(t.code,{children:"localhost"}),". In this case, the ","user"," has full control over the portal code and can\nverify its operation. Therefore, they can fully authenticate that the data served by Walrus and\nWalrus Sites is what the original developer intended."]})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);